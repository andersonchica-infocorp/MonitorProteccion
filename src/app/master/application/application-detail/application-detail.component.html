<md-card>
    <md-card-title *ngIf="initialdata">{{'app.master.application.application' | translate}} {{initialdata.name}}</md-card-title>
    <md-card-title *ngIf="!initialdata">{{'app.master.application.new' | translate}}</md-card-title>
    <md-divider></md-divider>
    <md-card-content>
        <form (ngSubmit)="onSubmit()"
            [formGroup]="form">
            <md-input-container class="example-full-width">
                <input mdInput
                    type="text"
                    placeholder="Nombre"
                    formControlName="name"
                    maxlength="50">
            </md-input-container>

            <md-card>
                <md-card-title>
                    {{'app.master.application.services' | translate}}
                </md-card-title>
                <md-divider></md-divider>
                <md-card-content>
                    <md-input-container class="example-full-width">
                        <input mdInput
                            formControlName="serviceName"
                            type="text"
                            placeholder="{{'app.master.application.nameService' | translate}}"
                            maxlength="50">
                    </md-input-container>
                    <button md-mini-fab
                        type="button"
                        (click)="addService(form.value.serviceName)"
                        [disabled]="form.value.serviceName==''"
                        color="primary"
                        [mdTooltipPosition]="'right'"
                        mdTooltip="{{'app.master.application.addService' | translate}}">
                        <md-icon>add</md-icon>
                    </button>
                    <app-service-list *ngIf="initialdata"
                        [services]="initialdata.services">
                    </app-service-list>
                </md-card-content>
            </md-card>
        </form>
    </md-card-content>
    <md-card-actions align="end">
        <button md-button
            type="button"
            (click)="doReset()"
            [disabled]="!form.status">{{'app.common.reset' | translate}}</button>
        <button md-button
            type="button"
            (click)="doCancel()">{{'app.common.cancel' | translate}}</button>
        <button md-raised-button
            color="primary"
            style="submit"
            (click)="onSubmit()"
            [disabled]="!form.valid">{{'app.common.save' | translate}}</button>
    </md-card-actions>
    <div *ngIf="pleaseSave">Please save or cancel</div>
</md-card>
